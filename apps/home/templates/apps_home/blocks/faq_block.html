{% load wagtailimages_tags wagtailcore_tags block_tags %}

{% get_identifier value as identifier %}


<div class="block {% if self.background_color %}block__{{ self.background_color }}{% else %}block__body-bg{% endif %}">
    <div class="container">
        <div class="row block__row">
            <div class="offset-md-2 col-md-8">
                <h2 class="faq-block__title">
                {% if self.faq_title %}
                    {{ self.faq_title }}
                {% endif %}
                </h2>
                <section class="accordion accordion-flush" id="accordion{{ identifier }}{{ forloop.counter }}">
                {% for item in self.accordion_items %}
                    <div class="accordion-item faq-block__item">
                        <h3 class="accordion-header mt-0" id="heading{{ identifier }}{{ forloop.counter }}">
                            <button
                              class="accordion-button collapsed faq-block__button"
                              type="button"
                              data-bs-toggle="collapse"
                              data-bs-target="#collapse{{ identifier }}{{ forloop.counter }}"
                              aria-expanded="false"
                              aria-controls="collapse{{ identifier }}{{ forloop.counter }}">
                                {{ item.title }}
                            </button>
                        </h3>
                        <div id="collapse{{ identifier }}{{ forloop.counter }}" class="accordion-collapse collapse" aria-labelledby="heading{{ identifier }}{{ forloop.counter }}">
                            <div class="accordion-body faq-block__body">
                                {{ item.body }}
                            </div>
                        </div>
                    </div>
                {% endfor %}
                </section>
            </div>
        </div>
    </div>
</div>
